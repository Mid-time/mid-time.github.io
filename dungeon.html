<!DOCTYPE html>
<html>
<head>
    <title>地牢（测试版）</title>
    <style>
        .container { max-width: 600px; margin: 20px auto; padding: 20px; }
        .input-group { margin: 10px 0; }
        input { width: 20px; padding: 8px; margin: 5px 0; }
        button { 
            padding: 8px 16px; 
            border: none; 
            cursor: pointer;
            margin: 5px;
            text-align: center;
        #buttonaccess {
            background: #4CAF50;
            color: white;
        }
        #buttoncancel {
            background: #2196F3;
            color: white;
        }
        #buttoncontrol {
            background: #008CBA;
            color: white;
        }
        #result { margin-top: 20px; white-space: pre-wrap; }
        .error { color: red; margin-top: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h2>地牢（测试版）</h2>
        <div id=point></div>
        <div class="input-group">
            力量 <button type="buttoncontrol" onclick="powersub()">-</button><div id=power></div><button type="buttoncontrol" onclick="poweradd()">+</button>
            健康<input type="number" id="health" placeholder="" required>
            速度<input type="number" id="speed" placeholder="" required>
            魅力<input type="number" id="charm" placeholder="" required>
            智力<input type="number" id="intelligent" placeholder="" required>
            感知<input type="number" id="perception" placeholder="" required>
        </div>
        <div>
        </div>
        <button onclick="start()">开始游戏</button>
        <div id="error" class="error"></div>
        <div id="result"></div>
    </div>

    <script>
        let power = 1
        let health = 1
        let speed = 1
        let charm = 1
        let intelligent = 1
        let perception = 1
        function powersub() {
            if (power != 1) {
            power -= 1}
        }
        function poweradd() {
            if (power != 10) {
            power += 1}
        }
        function start() {
            // 清空错误提示和隐藏复制按钮
            document.getElementById('error').textContent = '';

            // 获取原始输入值
            const minInput = document.getElementById('min').value;
            const maxInput = document.getElementById('max').value;
            const countInput = document.getElementById('count').value;

            // 处理默认值并验证整数
            let min = minInput === '' ? 1 : minInput;
            let max = maxInput;
            let count = countInput === '' ? 1 : countInput;

            // 验证所有值为整数
            const isInteger = (value) => /^-?\d+$/.test(value);
            if (!isInteger(min) || !isInteger(max) || !isInteger(count)) {
                showError("所有值必须为整数！");
                return;
            }

            // 转换为数字
            min = parseInt(min);
            max = parseInt(max);
            count = parseInt(count);

            // 验证逻辑
            if (!maxInput) {
                showError("最大值必须填写！");
                return;
            }
            if (max <= min) {
                showError("最大值必须大于最小值！");
                return;
            }
            if (count < 1) {
                showError("生成数量必须至少为1！");
                return;
            }

            // 生成随机数
            let output = "";
            for (let i = 0; i < count; i++) {
                const d = randint(min, max)
                output += d + " ";
            }

            // 显示结果和复制按钮
            document.getElementById('result').textContent = output;
            document.getElementById('copyBtn').style.display = 'inline-block';
        }

        function copyResult() {
            const result = document.getElementById('result').textContent;
            navigator.clipboard.writeText(result)
                .then(() => alert("结果已复制！"))
                .catch(err => alert("复制失败，请手动复制"));
        }

        function showError(message) {
            document.getElementById('error').textContent = message;
        }

        function randint(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}
    </script>
</body>
</html>