<!DOCTYPE html>
<html>
<head>
    <title>地牢（测试版）</title>
    <style>
        .container { max-width: 600px; margin: 20px auto; padding: 20px; }
        .input-group { margin: 10px 0; }
        input { width: 20px; padding: 8px; margin: 5px 0; }
        button { 
            padding: 8px 16px; 
            border: none; 
            cursor: pointer;
            margin: 5px;
            text-align: center;
        #buttonaccess {
            background: #4CAF50;
            color: white;
        }
        #buttoncancel {
            background: #2196F3;
            color: white;
        }
        #buttoncontrol {
            background: #9BD0E5;
            color: white;
        #buttonsubcontrol {
            background: #008CBA;
            color: white;
        }
        #result { margin-top: 20px; white-space: pre-wrap; }
        .error { color: red; margin-top: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <h2>地牢（测试版）</h2>
        <div id="point" aria-live="polite">剩余点数：10</div>
    
        <!-- 属性列表容器 -->
        <div class="attribute-list">
            <!-- 单个属性模板（可用 JavaScript 动态生成） -->
            <div class="attribute">
                <label>力量</label>
                <div class="controls">
                    <button type="button" class="btn-control" onclick="adjustStat('power', -1)">-</button>
                    <span id="power" class="stat-value">1</span>
                    <button type="button" class="btn-control" onclick="adjustStat('power', 1)">+</button>
                </div>
            </div>
        
            <!-- 其他属性复用相同结构（健康/速度/魅力/智力/感知） -->
            <div class="attribute">
                <label>健康</label>
                <div class="controls">
                    <button type="button" class="btn-control" onclick="adjustStat('health', -1)">-</button>
                    <span id="health" class="stat-value">1</span>
                    <button type="button" class="btn-control" onclick="adjustStat('health', 1)">+</button>
                </div>
            </div>
        
            <!-- 其他属性结构同理... -->
        </div>

        <button class="start-button" onclick="startGame()">开始游戏</button>
        <div id="error" class="error" role="alert"></div>
        <div id="result" aria-live="polite"></div>
    </div>

    <script>
        let power = 1
        let health = 1
        let speed = 1
        let charm = 1
        let intelligent = 1
        let perception = 1
        function powersub() {
            if (!power) {
            let power = 1
            }
            if (power != 1) {
            power -= 1
            document.getElementById('power').textContent = stringify(power);
            }
        }
        function poweradd() {
            if (power != 10) {
            power += 1}
        }
        function start() {
            // 清空错误提示和隐藏复制按钮
            document.getElementById('error').textContent = '';

            // 获取原始输入值
            const minInput = document.getElementById('min').value;
            const maxInput = document.getElementById('max').value;
            const countInput = document.getElementById('count').value;

            // 处理默认值并验证整数
            let min = minInput === '' ? 1 : minInput;
            let max = maxInput;
            let count = countInput === '' ? 1 : countInput;

            // 验证所有值为整数
            const isInteger = (value) => /^-?\d+$/.test(value);
            if (!isInteger(min) || !isInteger(max) || !isInteger(count)) {
                showError("所有值必须为整数！");
                return;
            }

            // 转换为数字
            min = parseInt(min);
            max = parseInt(max);
            count = parseInt(count);

            // 验证逻辑
            if (!maxInput) {
                showError("最大值必须填写！");
                return;
            }
            if (max <= min) {
                showError("最大值必须大于最小值！");
                return;
            }
            if (count < 1) {
                showError("生成数量必须至少为1！");
                return;
            }

            // 生成随机数
            let output = "";
            for (let i = 0; i < count; i++) {
                const d = randint(min, max)
                output += d + " ";
            }

            // 显示结果和复制按钮
            document.getElementById('result').textContent = output;
            document.getElementById('copyBtn').style.display = 'inline-block';
        }

        function copyResult() {
            const result = document.getElementById('result').textContent;
            navigator.clipboard.writeText(result)
                .then(() => alert("结果已复制！"))
                .catch(err => alert("复制失败，请手动复制"));
        }

        function showError(message) {
            document.getElementById('error').textContent = message;
        }

        function randint(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min;
}
    </script>
</body>
</html>